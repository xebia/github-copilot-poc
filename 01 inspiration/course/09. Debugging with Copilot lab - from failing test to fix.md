# 09. Debugging with Copilot lab - from failing test to fix

## Goal
Use Copilot to diagnose a failure and propose a fix, then validate by running tests.

## Time
20–30 minutes

## Setup
You need the .NET SDK installed (see `code/README.md`).

## Steps
1. Run tests:
   - In VS Code terminal (from the `code/` folder): `dotnet test`
2. If tests already pass, create a *safe* intentional failure:
   - **Option A (quick):** Change the expected count in `GetAll_ReturnsListOfPlanes` from `3` to `4`.
   - **Option B (instructor-prepared):** Check out a pre-broken branch if one is available.
3. Re-run tests and capture the failing output.
4. Open Copilot Chat (`Ctrl+Alt+I`) and ask for help.

## Prompts
- “Here is a failing xUnit test output. Explain the most likely cause and the smallest fix.”
- “Propose a fix that preserves intended behavior. If the test is wrong, fix the test; if the code is wrong, fix the code.”
- “Show the exact code change you would make in this file.”

## Validate
- Apply the fix.
- Run `dotnet test` again.

## Success criteria
- You can explain *why* it failed.
- You can fix it and re-run tests successfully.

## Instructor note
Emphasize a repeatable loop:
1) reproduce → 2) inspect → 3) ask Copilot → 4) apply smallest fix → 5) re-test.
