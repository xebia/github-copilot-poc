# 07. Inline Chat lab - generate and refine unit tests

## Goal
Use Inline Chat to add tests in a focused, code-adjacent way.

## Time
20–30 minutes

## Scenario
You added `GET /planes/search?year=...` in Lab 05. Now you’ll add unit tests.

## Steps
1. Open `code/WrightBrothersApi.Tests/Controllers/PlanesControllerTests.cs`.
2. Add a new test method skeleton, e.g.:
   - `SearchByYear_WhenYearProvided_ReturnsMatchingPlanes`
   - `SearchByYear_WhenYearMissing_ReturnsBadRequest`
3. Select the method you want to implement (or a region) and invoke **Inline Chat** (`Ctrl+I`).

## Inline Chat prompts
- “Write a unit test for `SearchByYear` that asserts status code 200 and correct count.”
- “Add a test for the null year case. Use FluentAssertions like the existing test.”
- “Keep the style consistent with this test file (xUnit + FluentAssertions).”

## What to look for
- Correct result casting (`OkObjectResult`, `BadRequestResult` / `BadRequestObjectResult`)
- Correct type casting for the returned value

## Success criteria
- Tests compile and pass
- Tests are readable and consistent with existing conventions

## Instructor note
If Copilot introduces new frameworks, ask it to rewrite using what’s already in the repo.
